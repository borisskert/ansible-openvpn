---
- hosts: test_machine
  become: yes

  roles:
    - role: install-docker
      storage_driver: overlay2
      cleanup_enabled: no
      install_pip_docker: yes

    - role: ansible-openvpn
      alpine_version: 3.11.6
      openvpn_version: 2.4.8-r1
      openvpn_port: 1194
      interface: 0.0.0.0
      working_directory: /srv/openvpn
      ca_common_name: mydomain.org
      ca_country_name: US
      ca_state_or_province_name: CA
      ca_locality_name: San Francisco
      ca_organization_name: Fort-Funston
      ca_email_address: me@mydomain.org
      ca_organizational_unit_name: IT Division
      server_common_name: openvpn.mydomain.org
      server_address: 192.168.33.21
      ca_key_size: 4096
      server_key_size: 4096
      dh_parameter_size: 4096
      client_cert_size: 4096
      download_dir: ~/my-ovpn-clients
      clients:
        - vpnclient01
